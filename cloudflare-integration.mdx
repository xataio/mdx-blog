---
title: 'Connect your Cloudflare Worker with Xata in one click'
description: 'Connecting a Cloudflare Worker with Xata is now possible from the Cloudflare dashboard.'
image:
  src: https://raw.githubusercontent.com/xataio/mdx-blog/main/images/xata-workers.png
  alt: Xata + Cloudflare
author: Alexis Rico
date: 12-12-2023
tags: ['cloudflare', 'serverless', 'database', 'integration']
published: true
slug: cloudflare-integration
---

Cloudflare Workers is a serverless platform that allows developers to run code at the edge of the network. This means that you can run code closer to your users, which results in faster response times and lower latency. Cloudflare Workers also provide a secure environment for running code, so you don't have to worry about isolating your code from other users on the same server.

Today, we're excited to announce that we're teaming up with Cloudflare to offer a one click integration from the Cloudflare dashboard. This user-friendly solution eliminates the need for developers to create an API key and configure their database connection manually.

You can now just visit the Cloudflare dashboard and inside the "Integrations" tab, you will find the Xata integration.

<ArticleImage
  src="https://raw.githubusercontent.com/xataio/mdx-blog/cloudflare/images/cloudflare-integration-dashboard.png"
  width="874"
  height="509"
  alt="Cloudflare Integration Image"
  caption="Cloudflare dashboard with the Xata integration"
  position="center"
/>

Click on the "Add integration" button and you will find a wizard that will guide you through the process of connecting your Cloudflare Worker with Xata.

<ArticleImage
  src="https://raw.githubusercontent.com/xataio/mdx-blog/cloudflare/images/cloudflare-integration-setup.png"
  width="456"
  height="558"
  alt="Cloudflare Integration Image"
  caption="Wizard to connect your Cloudflare Worker with Xata"
  position="center"
/>

During the process you will be prompted to authorize Cloudflare to access your Xata account. Once you have authorized the integration, you will be able to select the database you want to connect to your worker.

<ArticleImage
  src="https://raw.githubusercontent.com/xataio/mdx-blog/cloudflare/images/cloudflare-integration-authorization.png"
  width="580"
  height="613"
  alt="Cloudflare Integration Image"
  caption="Page to authorize Cloudflare to access your Xata account"
  position="center"
/>

Once you have authorized Cloudflare, you will be redirected back to the Cloudflare dashboard and you will be able to select the database you want to connect to your worker.

<ArticleImage
  src="https://raw.githubusercontent.com/xataio/mdx-blog/cloudflare/images/cloudflare-integration-selection.png"
  width="810"
  height="843"
  alt="Cloudflare Integration Image"
  caption="Page to select the database you want to connect to your worker"
  position="center"
/>

all the necessary environment variables will be automatically added to your worker.

<ArticleImage
  src="https://raw.githubusercontent.com/xataio/mdx-blog/cloudflare/images/cloudflare-integration-secrets.png"
  width="802"
  height="371"
  alt="Cloudflare Integration Image"
  caption="List of environment variables added to your worker"
  position="center"
/>

Inside your worker, you can now use the environment variables to connect to your database.

```ts
import { XataClient } from './xata';

export interface Env {
  XATA_BRANCH: string;
  XATA_API_KEY: string;
  XATA_DATABASE_URL: string;
}

export default {
  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise<Response> {
    const xata = new XataClient({
      apiKey: env.XATA_API_KEY,
      branch: env.XATA_BRANCH,
      databaseURL: env.XATA_DATABASE_URL
    });

    const posts = await xata.db.Posts.getAll();
    return new Response(`Total Posts: ${posts.length}`);
  }
};
```

## How does it work?

The integration is powered by an OAuth2 flow that allows Cloudflare to access your Xata account and create a new API key for your worker. The API key is then used to connect your worker with your database.

If you want to learn more about how integrating with Xata using OAuth2 works, please check out our [documentation](/docs/integrations/oauth).

## What's next?

The integration is now available for all Cloudflare users. If you want to learn more about how to use it, please check out our [documentation](/docs/integrations/cloudflare).

If you have any questions or feedback, please feel free to reach out to us on [Twitter](https://twitter.com/xata) or [Discord](https://xata.io/discord).

Happy coding!
